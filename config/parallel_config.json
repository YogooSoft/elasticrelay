{
  "version": "3.0",
  "data_sources": [
    {
      "id": "mysql-main",
      "name": "主数据库",
      "type": "mysql",
      "host": "172.168.7.117",
      "port": 3306,
      "user": "elasticrelay_user",
      "password": "elasticrelay_pass",
      "database": "elasticrelay",
      "server_id": 100,
      "table_filters": ["test_table", "users", "orders"],
      "options": {
        "charset": "utf8mb4",
        "timeout": "30s"
      }
    }
  ],
  "sinks": [
    {
      "id": "es-main",
      "name": "主Elasticsearch集群",
      "type": "elasticsearch",
      "addresses": ["http://172.168.0.100:19200"],
      "user": "elastic",
      "password": "elasticrelay_pass",
      "options": {
        "index_prefix": "elasticrelay",
        "batch_size": 100,
        "flush_bytes": 1048576,
        "flush_interval": "3s",
        "request_timeout": "10s"
      }
    }
  ],
  "jobs": [
    {
      "id": "mysql-to-es-parallel",
      "name": "并行同步任务",
      "source_id": "mysql-main",
      "sink_id": "es-main",
      "enabled": true,
      "description": "使用并行处理的高性能数据同步任务",
      "options": {
        "initial_sync": true,
        "batch_size": 100,
        "checkpoint_interval": "10s",
        "use_parallel": true,
        
        "snapshot_config": {
          "max_concurrent_tables": 3,
          "max_concurrent_chunks": 8,
          "chunk_size": 100000,
          "worker_pool_size": 12,
          "adaptive_scheduling": true,
          "streaming_mode": true,
          "chunk_strategy": "id_based"
        },
        
        "retry_config": {
          "max_retries": 3,
          "retry_backoff": "exponential",
          "initial_delay": "5s",
          "max_delay": "300s"
        },
        
        "monitoring": {
          "metrics_interval": "30s",
          "progress_reporting": true,
          "performance_alerts": true
        }
      }
    }
  ],
  "global": {
    "log_level": "info",
    "metrics_port": 8080,
    "grpc_port": 50051,
    "dlq_config": {
      "enabled": true,
      "storage_path": "./dlq",
      "max_retries": 3,
      "retry_delay": "15s",
      "batch_size": 10,
      "retry_timeout": "30s"
    }
  }
}
